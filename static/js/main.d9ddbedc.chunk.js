(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{22:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var n,s=c(6),r=c.n(s),o=c(2),a=c(14),l=c(3),i=c(9),d=c(13);!function(e){e.LoadTodos="loadTodos",e.DeleteTodo="deleteTodo",e.SelectUserId="selectUserId",e.LoadUser="loadUser"}(n||(n={}));var u={todos:[],selectedUserId:0,user:null},j=Object(i.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.LoadTodos:return Object(l.a)(Object(l.a)({},e),{},{todos:Object(a.a)(t.payload)});case n.DeleteTodo:return Object(l.a)(Object(l.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.payload}))});case n.SelectUserId:return Object(l.a)(Object(l.a)({},e),{},{selectedUserId:t.payload});case n.LoadUser:return Object(l.a)(Object(l.a)({},e),{},{user:t.payload});default:return e}}),Object(d.composeWithDevTools)()),b=j,h=(c(22),c(23),c(11)),O=c(4),m=c.n(O),p=c(0),f="https://mate.academy/students-api",v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(f+e,t).then((function(e){return e.json()})).then((function(e){if(e.Error)throw new Error("".concat(e.status," - ").concat(e.statusText));return e}))},x=function(e){return{type:n.SelectUserId,payload:e}},_=function(e){return e.todos},N=function(e){return e.selectedUserId},y=function(e){return e.user},T=c(1),g=Object(p.memo)((function(e){var t=e.name,c=e.label,n=e.inputValue,s=e.errorMessage,r=e.options,o=e.onChange;return Object(T.jsxs)("div",{className:"field",children:[Object(T.jsxs)("label",{htmlFor:"todo",className:"label",children:[c,Object(T.jsx)("div",{className:"control",children:Object(T.jsx)("div",{className:m()("select",{"is-danger":s}),children:Object(T.jsx)("select",{id:t,name:t,value:n,onChange:o,children:r.map((function(e){return Object(T.jsx)("option",{value:e.name,children:e.name},e.id)}))})})})]}),s&&Object(T.jsx)("p",{className:"help is-danger",children:s})]})})),C=Object(p.memo)((function(e){var t=e.name,c=e.label,n=e.inputValue,s=e.errorMessage,r=e.placeholder,o=e.onChange;return Object(T.jsxs)("div",{className:"field",children:[Object(T.jsxs)("label",{htmlFor:t,className:"label",children:[c,Object(T.jsx)("div",{className:"control",children:Object(T.jsx)("input",{type:"text",name:t,id:t,placeholder:r,className:m()("input",{"is-danger":s}),value:n,onChange:o})})]}),s&&Object(T.jsx)("p",{className:"help is-danger",children:s})]})})),L=(c(25),function(){var e=Object(o.b)(),t=Object(o.c)(_),c=Object(o.c)(N),s=Object(p.useState)(""),r=Object(h.a)(s,2),a=r[0],l=r[1],i=Object(p.useState)("all"),d=Object(h.a)(i,2),u=d[0],j=d[1];Object(p.useEffect)((function(){v("/todos").then((function(t){var c;e((c=t,{type:n.LoadTodos,payload:c}))}))}),[]);var b=function(t){(function(e){return v("/todos/".concat(e),{method:"DELETE"})})(t).then((function(c){var s;c&&e((s=t,{type:n.DeleteTodo,payload:s}))}))},O=Object(p.useMemo)((function(){return t.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())})).filter((function(e){switch(u){case"active":return!1===e.completed;case"completed":return!0===e.completed;default:return e}}))}),[t,a,u]);return Object(T.jsxs)("div",{className:"TodoList",children:[Object(T.jsx)("h2",{className:"title",children:"Todos:"}),Object(T.jsx)(C,{name:"title",label:"",inputValue:a,errorMessage:"",placeholder:"Search by title",onChange:function(e){l(e.target.value)}}),Object(T.jsx)(g,{name:"filter",label:"",inputValue:u,errorMessage:"",options:[{id:1,name:"all"},{id:2,name:"active"},{id:3,name:"completed"}],onChange:function(e){j(e.target.value)}}),Object(T.jsx)("div",{className:"TodoList__list-container",children:Object(T.jsx)("ul",{className:"TodoList__list",children:O.map((function(t){return Object(T.jsxs)("li",{className:m()("TodoList__item",{"TodoList__item--unchecked":!t.completed},{"TodoList__item--checked":t.completed}),children:[Object(T.jsxs)("label",{children:[Object(T.jsx)("input",{type:"checkbox",checked:t.completed,readOnly:!0}),Object(T.jsx)("p",{children:t.title})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{className:m()("TodoList__user-button",{"TodoList__user-button--selected":t.userId===c}),type:"button",onClick:function(){return e(x(t.userId))},children:"User #".concat(t.userId)}),Object(T.jsx)("button",{className:"TodoList__user-button",type:"button",onClick:function(){return b(t.id)},children:"Delete #".concat(t.id)})]})]},t.id)}))})})]})}),U=(c(26),Object(p.memo)((function(){var e=Object(o.b)(),t=Object(o.c)(y),c=Object(o.c)(N);return Object(p.useEffect)((function(){var t;(t=c,v("/users/".concat(t))).then((function(t){return e((c=t,{type:n.LoadUser,payload:c}));var c}))}),[c]),Object(T.jsxs)("div",{className:"CurrentUser",children:[Object(T.jsx)("h2",{className:"CurrentUser__title",children:Object(T.jsx)("span",{children:"Selected user: ".concat(null===t||void 0===t?void 0:t.id)})}),Object(T.jsx)("h3",{className:"CurrentUser__name",children:null===t||void 0===t?void 0:t.name}),Object(T.jsx)("p",{className:"CurrentUser__email",children:null===t||void 0===t?void 0:t.email}),Object(T.jsx)("p",{className:"CurrentUser__phone",children:null===t||void 0===t?void 0:t.phone}),Object(T.jsx)("button",{type:"button",className:"CurrentUser__clear",onClick:function(){return e(x(0))},children:"Clear"})]})}))),I=function(){var e=Object(o.c)(N);return Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)("div",{className:"App__sidebar",children:Object(T.jsx)(L,{})}),Object(T.jsx)("div",{className:"App__content",children:Object(T.jsx)("div",{className:"App__content-container",children:e?Object(T.jsx)(U,{}):"No user selected"})})]})},k=function(){return Object(T.jsx)(o.a,{store:b,children:Object(T.jsx)(I,{})})};r.a.render(Object(T.jsx)(k,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.d9ddbedc.chunk.js.map