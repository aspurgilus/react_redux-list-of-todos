(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{22:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var n=c(6),s=c.n(n),r=c(2),a=c(11),o=c(3),l=c(9),i=c(14),d="LOAD_TODOS",u="DELETE_TODO",j="SELECTED_USERID",b="SETUSER",O=function(e){return{type:j,payload:e}},h=function(e){return e.todos},m=function(e){return e.selectedUserId},p=function(e){return e.user},f={todos:[],selectedUserId:0,user:null},x=Object(l.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(o.a)(Object(o.a)({},e),{},{todos:[].concat(Object(a.a)(e.todos),Object(a.a)(t.payload))});case u:return Object(o.a)(Object(o.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.payload}))});case j:return Object(o.a)(Object(o.a)({},e),{},{selectedUserId:t.payload});case b:return Object(o.a)(Object(o.a)({},e),{},{user:t.payload});default:return e}}),Object(i.composeWithDevTools)()),v=x,_=(c(22),c(23),c(12)),N=c(4),y=c.n(N),g=c(0),C="https://mate.academy/students-api",T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(C+e,t).then((function(e){return e.json()})).then((function(e){if(e.Error)throw new Error("".concat(e.status," - ").concat(e.statusText));return e}))},E=c(1),L=Object(g.memo)((function(e){var t=e.name,c=e.label,n=e.inputValue,s=e.errorMessage,r=e.options,a=e.onChange;return Object(E.jsxs)("div",{className:"field",children:[Object(E.jsxs)("label",{htmlFor:"todo",className:"label",children:[c,Object(E.jsx)("div",{className:"control",children:Object(E.jsx)("div",{className:y()("select",{"is-danger":s}),children:Object(E.jsx)("select",{id:t,name:t,value:n,onChange:a,children:r.map((function(e){return Object(E.jsx)("option",{value:e.name,children:e.name},e.id)}))})})})]}),s&&Object(E.jsx)("p",{className:"help is-danger",children:s})]})})),U=Object(g.memo)((function(e){var t=e.name,c=e.label,n=e.inputValue,s=e.errorMessage,r=e.placeholder,a=e.onChange;return Object(E.jsxs)("div",{className:"field",children:[Object(E.jsxs)("label",{htmlFor:t,className:"label",children:[c,Object(E.jsx)("div",{className:"control",children:Object(E.jsx)("input",{type:"text",name:t,id:t,placeholder:r,className:y()("input",{"is-danger":s}),value:n,onChange:a})})]}),s&&Object(E.jsx)("p",{className:"help is-danger",children:s})]})})),S=(c(25),function(){var e=Object(r.b)(),t=Object(r.c)(h),c=Object(r.c)(m),n=Object(g.useState)(""),s=Object(_.a)(n,2),a=s[0],o=s[1],l=Object(g.useState)("all"),i=Object(_.a)(l,2),j=i[0],b=i[1];Object(g.useEffect)((function(){T("/todos").then((function(t){e(function(e){return{type:d,payload:e}}(t))}))}),[]);var p=function(t){(function(e){return T("/todos/".concat(e),{method:"DELETE"})})(t).then((function(c){c&&e(function(e){return{type:u,payload:e}}(t))}))},f=Object(g.useMemo)((function(){return t.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())})).filter((function(e){switch(j){case"active":return!1===e.completed;case"completed":return!0===e.completed;default:return e}}))}),[t,a,j]);return Object(E.jsxs)("div",{className:"TodoList",children:[Object(E.jsx)("h2",{className:"title",children:"Todos:"}),Object(E.jsx)(U,{name:"title",label:"",inputValue:a,errorMessage:"",placeholder:"Search by title",onChange:function(e){o(e.target.value)}}),Object(E.jsx)(L,{name:"filter",label:"",inputValue:j,errorMessage:"",options:[{id:1,name:"all"},{id:2,name:"active"},{id:3,name:"completed"}],onChange:function(e){b(e.target.value)}}),Object(E.jsx)("div",{className:"TodoList__list-container",children:Object(E.jsx)("ul",{className:"TodoList__list",children:f.map((function(t){return Object(E.jsxs)("li",{className:y()("TodoList__item",{"TodoList__item--unchecked":!t.completed},{"TodoList__item--checked":t.completed}),children:[Object(E.jsxs)("label",{children:[Object(E.jsx)("input",{type:"checkbox",checked:t.completed,readOnly:!0}),Object(E.jsx)("p",{children:t.title})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{className:y()("TodoList__user-button",{"TodoList__user-button--selected":t.userId===c}),type:"button",onClick:function(){return e(O(t.userId))},children:"User #".concat(t.userId)}),Object(E.jsx)("button",{className:"TodoList__user-button",type:"button",onClick:function(){return p(t.id)},children:"Delete #".concat(t.id)})]})]},t.id)}))})})]})}),k=(c(26),Object(g.memo)((function(){var e=Object(r.b)(),t=Object(r.c)(p),c=Object(r.c)(m);return Object(g.useEffect)((function(){var t;(t=c,T("/users/".concat(t))).then((function(t){return e(function(e){return{type:b,payload:e}}(t))}))}),[c]),Object(E.jsxs)("div",{className:"CurrentUser",children:[Object(E.jsx)("h2",{className:"CurrentUser__title",children:Object(E.jsx)("span",{children:"Selected user: ".concat(null===t||void 0===t?void 0:t.id)})}),Object(E.jsx)("h3",{className:"CurrentUser__name",children:null===t||void 0===t?void 0:t.name}),Object(E.jsx)("p",{className:"CurrentUser__email",children:null===t||void 0===t?void 0:t.email}),Object(E.jsx)("p",{className:"CurrentUser__phone",children:null===t||void 0===t?void 0:t.phone}),Object(E.jsx)("button",{type:"button",className:"CurrentUser__clear",onClick:function(){return e(O(0))},children:"Clear"})]})}))),D=function(){var e=Object(r.c)(m);return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)("div",{className:"App__sidebar",children:Object(E.jsx)(S,{})}),Object(E.jsx)("div",{className:"App__content",children:Object(E.jsx)("div",{className:"App__content-container",children:e?Object(E.jsx)(k,{}):"No user selected"})})]})},w=function(){return Object(E.jsx)(r.a,{store:v,children:Object(E.jsx)(D,{})})};s.a.render(Object(E.jsx)(w,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.9d39aec8.chunk.js.map